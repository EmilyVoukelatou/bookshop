<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<book>
  <title>XXE Tutorial</title>

  <bookinfo>
    <!-- All rights reserved. -->

    <edition>1</edition>

    <author>
      <othername>Digital Content and Publishing Services Staff</othername>

      <email>toolsreq@oreilly.com</email>
    </author>
  </bookinfo>

  <chapter>
    <title>Working with XMLmind XML Editor</title>

    <para>The ORM production team favors <ulink
    url="http://www.xmlmind.com/xmleditor/">XMLMind XML Editor (XXE)</ulink>.
    Therefore, much of our documentation refers to XXE, and we have developed
    some nice customizations for it (details in the next section). However,
    please remember that you are not obliged to write in XXE—you can choose
    your preferred tool. We mentioned a few alternatives in “Get Started
    Writing in DocBook.”</para>

    <para>If you decide to use XXE, we ask that you download the <ulink
    url="http://www.xmlmind.com/archive/xmleditor/3.5.2/">professional version
    3.5.2</ulink>, since the free personal edition (4.x) does not permit
    commercial use. The <filename>xxe-std-3_5_2.zip</filename> file will work
    on Windows, Linux, and Mac OS X operating systems.</para>

    <note>
      <para>XXE is officially supported on Windows XP/Vista/7, on Linux 2.6,
      and on Mac OS X 10.4 (Tiger), 10.5 (Leopard) and 10.6 (Snow Leopard). It
      is possible to use it on other Java 1.5+ platforms (e.g., Solaris), but
      without support from XMLmind.</para>
    </note>

    <para>The information in this document is geared toward using XXE as part
    of O’Reilly’s workflow. For more general information about getting started
    with XXE, a good starting point is the <ulink
    url="http://www.xmlmind.com/xmleditor/documentation.shtml">official XXE
    documentation</ulink>. The XXE site also provides a <ulink
    url="http://www.xmlmind.com/xmleditor/_distrib/doc/quickrefcard/quickrefcard-Letter.pdf">useful
    PDF</ulink>. Additionally, you may want to take a look at the XML.com
    article <ulink
    url="http://www.xml.com/pub/a/2007/06/20/getting-productive-with-xmlmind.html">“Getting
    Productive with XMLMind”</ulink> by O’Reilly authors James Elliot and Marc
    Loy. Their article was referenced during the creation of this document and
    is a good resource for beginners.</para>

    <sect1 id="working_with_xxe">
      <title>Customizing XXE</title>

      <para>You can run some customizations that tweak XXE to display your
      DocBook documents more closely to their PDF (and eventually printed)
      form. Download the CSS file customized to O’Reilly fonts, headings, and
      item numbering at <ulink
      url="https://prod.oreilly.com/external/tools/xxe/customizations/xmlmind_custom.zip"></ulink>
      (username: <literal moreinfo="none">guest</literal>; empty <phrase
      role="keep-together">password</phrase>).</para>

      <para>If on Linux or Mac (and Unix, more generally), unzip the <filename
      moreinfo="none">xmlmind_custom.zip</filename> file to <filename
      moreinfo="none">~/.xxe/addon/</filename>. If on Windows XP, unzip to
      <filename moreinfo="none">C:\Documents and
      Settings\<replaceable>username</replaceable>\Application
      Data\XMLmind\XMLEditor\addon\</filename>. More detailed instructions for
      installing customizations are found on the <ulink
      url="http://www.xmlmind.com/xmleditor/addons.shtml#manual_install">XXE
      website</ulink>.</para>
    </sect1>

    <sect1>
      <title>Using XXE</title>

      <para>A program like XXE puts a word-processing face on XML, making it
      more user-friendly while keeping the markup valid. The Element Bar (see
      <xref linkend="elementbar" />), or Node Path, at the top of your screen
      lets you know where you are in the XML structure at any given point
      (whether you are in a section title, paragraph, list, etc.). Clicking on
      the element will display a box around that entire element in your
      document, making it easy to identify.</para>

      <figure id="elementbar">
        <title>The Element Bar shows the XML hierarchy</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/elementbar.png" format="PNG"
                       width="4.8in" />
          </imageobject>
        </mediaobject>
      </figure>

      <para>You can also navigate the hierarchy by using the movement buttons
      in the upper-right corner of the screen. The up and down arrows move you
      through parent and child elements; the left and right arrows move you
      through sibling elements.</para>

      <para>To see a view of the document structure in tree form, go to View→0
      (no stylesheet). This is shown in <xref linkend="viewMenu" />. If you’d
      like to see both the DocBook and the tree view, go to
      Options→Preferences→Window→Show both tree and styled views, as shown in
      <xref linkend="treeView" />.</para>

      <figure id="viewMenu">
        <title>View menu</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/viewMenu.png" format="PNG" scale="60" />
          </imageobject>
        </mediaobject>
      </figure>

      <figure id="treeView">
        <title>Tree view</title>

        <mediaobject>
          <imageobject role="web">
            <imagedata fileref="figs/treeView.png" format="PNG" width="4.8in" />
          </imageobject>
        </mediaobject>
      </figure>

      <note>
        <para>When editing the <filename>book.xml</filename> file, you cannot
        make edits to individual chapters there (because they are
        <literal>XInclude</literal>s); you must enter them in the individual
        chapter file. You can use a shortcut to open the referenced file by
        placing your cursor in the specific chapter you want to edit and
        hitting <keycap moreinfo="none">Ctrl-Shift-E</keycap>. You can also
        get there by choosing Edit→Reference→Edit Referencing Document.</para>
      </note>

      <sect2 id="handy_tools">
        <title>Handy Tools</title>

        <para>When creating your DocBook manuscript, XXE offers a number of
        tools you may want to use. Here’s a few of our favorites:</para>

        <variablelist>
          <varlistentry>
            <term>Search &amp; Replace</term>

            <listitem>
              <para>When writing, you may want to search or search and replace
              certain words or phrases. You can do this by clicking the Search
              tab in the righthand panel (shown in <xref lang=""
              linkend="search" />) or hitting Ctrl-F. You can choose to ignore
              case or search by part of a word, and you can also choose to
              skip over an instance or every instance of the word within a
              certain element.</para>

              <figure id="search">
                <title>Searching a document</title>

                <mediaobject>
                  <imageobject role="web">
                    <imagedata fileref="figs/search.png" format="PNG"
                               scale="70" />
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Spelling</term>

            <listitem>
              <para>Another tool that comes in handy is the spell check
              (illustrated in <xref linkend="spell" />), also found in the
              righthand panel. You can also skip elements here, so if you want
              a word to be capitalized in section headers, but not within
              text, you can skip the instances in section headers.</para>

              <figure id="spell">
                <title>Spell check</title>

                <mediaobject>
                  <imageobject role="web">
                    <imagedata fileref="figs/spell.png" format="PNG"
                               scale="70" />
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Special Characters</term>

            <listitem>
              <para>If you find that you need to insert a character that isn’t
              a standard keyboard character, you can choose it from the
              Characters tab, shown in <xref linkend="characterTool" />. This
              character palette will display the Unicode number for a
              character if you hover over the symbol. If you can’t find a
              symbol, but know the Unicode number, you can type in the Unicode
              number to bring up the appropriate symbol. (See the “Unicode for
              Special Characters” section of “Get Started Writing in
              DocBook.”)</para>

              <figure id="characterTool">
                <title>Character palette</title>

                <mediaobject>
                  <imageobject role="web">
                    <imagedata fileref="figs/characterTool.png" scale="60" />
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Validation</term>

            <listitem>
              <para>Although XXE checks the validity of your document as you
              go (the little square panel in the lower-left corner indicates
              validity status), you can also choose the Validity tab to
              display any errors that might have cropped up in the
              document.</para>

              <note>
                <para>You can ignore errors about broken cross-references
                (like those shown in <xref linkend="validationtab" />) if the
                reference is to something in a different chapter file. These
                types of errors will disappear once you open the book file
                with all chapters included. If they don’t disappear, then
                they’re real errors and need to be fixed.</para>
              </note>

              <figure id="validationtab">
                <title>Validation tab with broken cross-reference
                errors</title>

                <mediaobject>
                  <imageobject role="web">
                    <imagedata fileref="figs/validation.png" format="PNG"
                               scale="60" />
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>Note to self…</term>

            <listitem>
              <para>If you would like to put in a comment as a reminder to
              yourself or someone else who will be working with your files,
              you can choose Edit→Comment→Insert Comment (as shown in <xref
              linkend="insertcomment" />). A comment will be inserted with a
              yellow background to help it stand out. See <xref
              linkend="commentview" /> for an example. The stylesheet won’t
              display the comments in the PDF, so you don’t need to worry
              about removing them.</para>

              <para>Another option is entering <literal
              moreinfo="none">remark</literal>s in the text. These are
              displayed in a different font and color in XXE so as to stand
              out. Again, they won’t appear in the PDF.</para>

              <figure id="insertcomment">
                <title>Inserting a comment</title>

                <mediaobject>
                  <imageobject role="web">
                    <imagedata fileref="figs/insertcomment.png" format="PNG"
                               scale="70" />
                  </imageobject>
                </mediaobject>
              </figure>
            </listitem>
          </varlistentry>
        </variablelist>

        <figure id="commentview">
          <title>Comment within a document</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/commentview.png" format="PNG"
                         width="4.8in" />
            </imageobject>
          </mediaobject>
        </figure>
      </sect2>

      <sect2>
        <title>New Sections</title>

        <para>When adding sections to your document, use the “Add section”
        button (see <xref linkend="secMen" />) to choose a
        <literal>sect<replaceable>N</replaceable></literal> element. (In
        contrast to what’s shown in <xref linkend="secMen" />, do
        <emphasis>not</emphasis> choose the <literal>section</literal>
        element; <literal>sect</literal><replaceable>n</replaceable>s should
        be used as described in “Get Started Writing in DocBook.”) If the new
        section comes above or below where you want it to go in the hierarchy,
        you can use DocBook→Promote and DocBook→Demote to move it to the
        appropriate level. The buttons used are shown in <xref
        linkend="promotedemote" />. By promoting sections, you can move a
        section that is currently a <literal>sect2</literal> to a
        <literal>sect1</literal>. Demoting will move a
        <literal>sect1</literal> down to a <literal>sect2</literal>.</para>

        <para>The Move Up and Move Down functions can be used to move elements
        past each other, though they’re mostly used to move sections
        around.</para>

        <figure id="secMen">
          <title>Adding a new section</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/secMenu.png" format="PNG" scale="70" />
            </imageobject>
          </mediaobject>
        </figure>

        <figure id="promotedemote">
          <title>Promoting and demoting sections</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/promotedemote.png" format="PNG"
                         width="4.8in" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>When you create new sections, your sections will automatically
        renumber in XXE according to where the new section has been entered.
        The same applies to figure and table numbering.</para>
      </sect2>

      <sect2>
        <title>Splitting and Merging Sections</title>

        <para>If you need to split a section in two, select the paragraph that
        you want to start the new section by clicking <literal
        moreinfo="none">para</literal> in the Element Bar, and then choose
        DocBook→Promote to create a new section with that paragraph.</para>

        <para>Merging two sections can be a bit more difficult. If you are
        just moving a few paragraphs into another section, you can cut and
        paste the text from one section to the other and delete the second
        section title. If you have a more complex section to move, use the
        steps below:</para>

        <orderedlist continuation="restarts" inheritnum="ignore">
          <listitem>
            <para>Make sure the two sections you want to join are adjacent to
            each other, with the section heading that you want to keep
            positioned first.</para>
          </listitem>

          <listitem>
            <para>Select the first section in the Element Bar.</para>
          </listitem>

          <listitem>
            <para>Select→Select All Children (display boxes will surround all
            the individual elements that make up that section).</para>
          </listitem>

          <listitem>
            <para>Choose Edit→Copy (Cut isn’t an option for a complex
            section).</para>
          </listitem>

          <listitem>
            <para>Select the <literal moreinfo="none">title</literal> element
            of the second section you want to join.</para>
          </listitem>

          <listitem>
            <para>Choose Edit→Paste and paste the first section into the
            <literal moreinfo="none">title</literal> element of the second
            section. This will replace the second section’s title with the
            first section’s title, and insert all the other elements of the
            first section at the beginning of the second section.</para>
          </listitem>

          <listitem>
            <para>Now go back and delete the first section.</para>
          </listitem>
        </orderedlist>
      </sect2>

      <sect2>
        <title>Using Elements Correctly</title>

        <para>The Element Bar at the top of XXE will show you which element is
        selected. You can apply block elements to large chunks of text (e.g.,
        <literal moreinfo="none">programlisting</literal>). You can apply
        inline elements to words or phrases within a block element (e.g.,
        <literal moreinfo="none">emphasis</literal>). To emphasize a word or
        phrase by putting it in <emphasis>italics</emphasis>, highlight the
        text and click the Convert button in the Edit panel. In the box below
        the Convert button, start typing the name of the inline element you
        wish to apply, in this case <literal
        moreinfo="none">emphasis</literal>.</para>

        <para>The Element Bar’s default description of text in a paragraph is
        <literal moreinfo="none">#text</literal>. You can also select the
        <literal moreinfo="none">#text</literal> element and convert to
        something that better suits your needs, like <literal
        moreinfo="none">literal</literal>.</para>

        <para>The Convert button is shown in <xref linkend="keyCapWrap" />.
        You can also use the formatting buttons in the toolbar at the top of
        the screen to convert text to emphasis, links, plain text, etc. This
        is often faster that using the Convert button.</para>

        <figure id="keyCapWrap">
          <title>Using the Convert button</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/keyCapWrap.png" format="PNG" scale="70" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>If you don’t see the element you want as an option for your
        highlighted text, it probably means it isn’t a valid option. Try
        placing your cursor at a different level in the hierarchy, or moving
        the element you want to change up or down. Only the elements that are
        valid for your location in the hierarchy are displayed as
        options.</para>

        <para>Similarly, if you’ve cut text from one spot and are having
        trouble pasting it, make sure that you are pasting into the same
        element. Try moving up or down the hierarchy. You can also use the
        Paste, Paste Before..., and Paste After... buttons in the
        toolbar.</para>

        <para>If you are including URLs in your document, designate them as a
        <literal moreinfo="none">ulink</literal>s. ("Get Started Writing in
        DocBook” has more information on URLs.) Make sure that if you tag
        something as a <literal moreinfo="none">ulink</literal>, you enter the
        <literal moreinfo="none">url</literal> in the Attributes panel. Select
        the <emphasis role="bold">???</emphasis> and enter the URL you want to
        link to. If you don’t enter the address as an <literal>url</literal>
        attribute, you will see a red message that says, <emphasis>Empty
        &lt;ulink&gt;! Needs url&gt;&gt;</emphasis>.<footnote>
            <para>...assuming you have the ORM customizations installed (see
            “Get Started Writing in DocBook”).</para>
          </footnote></para>

        <para>For a bulleted list, you can choose “Add itemizedlist” from the
        toolbar to insert the first bullet point. You can also add numbered
        lists (“Add orderedlist”) and variable, or term-definition, lists
        (“Add variablelist”).</para>
      </sect2>

      <sect2>
        <title>Inserting Tables</title>

        <para>There are two options for tables: formal and informal. A formal
        table will have a table number and caption, making it better suited
        for cross-referencing. An informal table lacks the table number and
        caption and is more suited for a little table interspersed with normal
        text that won’t need to be referenced later. The easiest way to add a
        table to a DocBook document is by choosing the “Add table” button in
        the toolbar (shown in <xref linkend="tableInsert" />). The most common
        type of table you will probably use is
        <filename>table(head_row)</filename>—that is, a formal table with a
        row at the top serving as the header.</para>

        <figure id="tableInsert">
          <title>Inserting a table</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/tableInsert.png" format="PNG"
                         scale="75" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>If you need to add rows or columns to your table (the default is
        three rows by two columns), go to DocBook→Column→Insert Before or
        After or DocBook→Row→Insert Before or After.</para>

        <para>For a formal table, make sure you select the <literal
        moreinfo="none">table</literal> element and apply an <literal
        moreinfo="none">id</literal> attribute, as illustrated in <xref
        linkend="tableID" />. This is a unique identifier that will be used
        when you add cross-references to it.</para>

        <figure id="tableID">
          <title>Applying an id attribute to a table</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/tableID.png" format="PNG" scale="75" />
            </imageobject>
          </mediaobject>
        </figure>

        <warning>
          <para>Make sure that you press <keycap
          moreinfo="none">Enter/Return</keycap> or the green check mark after
          entering the value of an attribute, or else it will disappear when
          you move on.</para>
        </warning>
      </sect2>

      <sect2 id="figures_in_xxe">
        <title>Inserting Figures</title>

        <para>Figures are similar to tables in that you can have formal or
        informal figures. For formal figures, make sure to include a caption.
        See “Get Started Writing in DocBook” for more.</para>

        <note>
          <para>For instructions and guidelines for producing the figures for
          your book, please see the <ulink
          url="https://prod.oreilly.com/external/illustrations/illustrations_guidelines.html">O’Reilly
          Media Illustration Guidelines</ulink>. A <ulink
          url="https://prod.oreilly.com/external/illustrations/illustrations_guidelines.pdf">PDF
          is also available</ulink>.</para>
        </note>

        <para>Place the image files for your book in the <filename
        moreinfo="none">figs/incoming</filename> directory. This is required
        if you want the figures to render in the PDF.</para>

        <para>Then, to add an image, you can simply click the “Add image”
        button in the toolbar and choose <literal>figure</literal> from the
        drop-down menu (unless you have a very good reason for choosing one of
        the other options). This is illustrated in <xref
        linkend="tableInsert" />.</para>

        <figure id="figureInsert">
          <title>Inserting a figure</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/figureInsert.png" format="PNG"
                         scale="75" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>When the space for the image is selected, you will notice that
        in the Attributes menu, <literal moreinfo="none">fileref</literal> has
        <emphasis role="bold">???</emphasis> entered. By clicking the folder
        icon at the top of the Attributes menu, you can browse for the file
        location of your image (see <xref linkend="figurePickFile2" />). You
        can also manually enter this file path next to <literal
        moreinfo="none">fileref</literal> in the menu or double-click on the
        image placeholder to bring up a <literal
        moreinfo="none">fileref</literal> window, as shown in <xref
        linkend="fileref" />.</para>

        <figure id="figurePickFile2">
          <title>Sourcing the figure file</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/figurePickFile2.png" format="PNG"
                         scale="70" />
            </imageobject>
          </mediaobject>
        </figure>

        <figure id="fileref">
          <title>Picking a file source location</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/fileref.png" format="PNG" width="4.8in" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>You’ll also want to make sure you enter an <literal
        moreinfo="none">id</literal> so that the figure can be
        cross-referenced later, and a <literal>width</literal> attribute value
        as explained in the “Scaling images” section of “Get Started Writing
        in DocBook.”</para>

        <note>
          <para>XXE is able to display PNGs but not PDFs—just like web
          pages.</para>
        </note>
      </sect2>

      <sect2>
        <title>Establishing Cross-References</title>

        <para>While writing your document, you might want to put placeholder
        text (like <literal moreinfo="none">()</literal>, for example) where
        the cross-reference will later be inserted. When you are ready to
        insert the actual cross-reference, place your cursor inside the
        parens, where you want the <literal moreinfo="none">xref</literal> to
        go.</para>

        <para>Click the Insert button and pick the <literal
        moreinfo="none">xref</literal> element from the list of available
        elements in the Edit panel. Then, in the Attributes menu, next to
        <literal moreinfo="none">linkend</literal> you will see <emphasis
        role="bold">???</emphasis>. Click the question marks and then click
        the “List of values…” button at the top of the menu. This will give
        you a list of <literal moreinfo="none">id</literal>s you can
        cross-reference. Figures <xref linkend="linkend"
        xrefstyle="select: labelnumber" /> and <xref linkend="linkFlow"
        xrefstyle="select: labelnumber" /> illustrate this.</para>

        <figure id="linkend">
          <title>linkend</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/linkend.png" format="PNG" width="4.8in" />
            </imageobject>
          </mediaobject>
        </figure>

        <figure id="linkFlow">
          <title>Select an xrefstyle</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/linkFlow.png" format="PNG"
                         width="4.8in" />
            </imageobject>
          </mediaobject>
        </figure>

        <para>If you need to reference a website, select the text that you
        want to make a hyperlink and then convert it by using the “Convert to
        link” button in the toolbar. This button is shown in <xref
        linkend="ulink" />. Then, in the Attributes panel, enter the <literal
        moreinfo="none">url</literal> where the <literal
        moreinfo="none">ulink</literal> should take readers (see <xref
        linkend="urlAttribute" />). This will produce a live link in the PDF
        or web versions of the document.</para>

        <warning>
          <para>Make sure that all formal figures, tables, and examples are
          explicitly cross-referenced in the text.</para>
        </warning>

        <figure id="ulink">
          <title>Convert to ulink</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/ulink.png" format="PNG" scale="70" />
            </imageobject>
          </mediaobject>
        </figure>

        <figure id="urlAttribute">
          <title>Entering the URL</title>

          <mediaobject>
            <imageobject role="web">
              <imagedata fileref="figs/urlAttribute.png" format="PNG"
                         scale="60" />
            </imageobject>
          </mediaobject>
        </figure>
      </sect2>

      <sect2>
        <title>Working with Index Terms</title>

        <para>The index is automatically generated from
        <literal>indexterm</literal>s in the component book files. See
        O’Reilly’s <ulink
        url="https://prod.oreilly.com/external/tools/docbook/docs/authoring/docbook_indexing_guidelines.txt">DocBook
        Indexing Guidelines</ulink> for more complete information on indexing
        in DocBook.</para>

        <para>The following instructions for working with index terms in XXE
        assume the ORM customizations are installed.</para>

        <sect3>
          <title>Inserting a new index entry</title>

          <para>To insert a new entry:</para>

          <orderedlist>
            <listitem>
              <para>Place the cursor where you want the entry, and hit ESC-i.
              This will open a pop-up window that lets you type in primary,
              secondary, and tertiary index terms, separated by
              slashes.</para>
            </listitem>

            <listitem>
              <para>Hit Enter and the index entry will appear in gray.</para>
            </listitem>
          </orderedlist>

          <para>To insert a “See” or “See also” entry:</para>

          <orderedlist>
            <listitem>
              <para>After creating the entry as outlined above, select the
              <literal>primary</literal> element (or
              <literal>secondary</literal> or <literal>tertiary</literal>,
              depending on what the “See”/“See also” entry refers to) in the
              Element Bar to highlight it.</para>
            </listitem>

            <listitem>
              <para>Select “Insert After” (or hit CTRL-j) to insert the
              <literal>see</literal> or <literal>seealso</literal>
              element.</para>
            </listitem>

            <listitem>
              <para>Enter the appropriate text.</para>
            </listitem>
          </orderedlist>

          <para>To insert an index range:</para>

          <orderedlist>
            <listitem>
              <para>Start by inserting a new entry as outlined above.</para>
            </listitem>

            <listitem>
              <para>Select the <literal>indexterm</literal> in the Element Bar
              to highlight it. You should see a red box surrounding it.</para>
            </listitem>

            <listitem>
              <para>In the Attributes tab, go to the “class” row and choose
              <literal>startofrange</literal>.</para>
            </listitem>

            <listitem>
              <para>With <literal>indexterm</literal> still highlighted, go to
              the “id” row and enter a name. The name can be anything you
              want, but we suggest you follow a format. For example, if you’re
              working in Chapter 2 and the term is <literal>foo</literal>,
              then the <literal>id</literal> might be
              <literal>ch02_foo</literal>.</para>
            </listitem>

            <listitem>
              <para>Go to the place in the text where the range should end,
              and insert another <literal>indexterm</literal> using ESC-i. But
              don’t actually enter a term in the pop-up window; just press
              “OK” to create an empty <literal>indexterm</literal>.</para>
            </listitem>

            <listitem>
              <para>Select the empty <literal>indexterm</literal>.</para>
            </listitem>

            <listitem>
              <para>In the Attributes tab, go to the “class” row and choose
              <literal>endofrange</literal>.</para>
            </listitem>

            <listitem>
              <para>With the empty <literal>indexterm</literal> still
              highlighted, go to the “startref” row and enter the exact same
              <literal>id</literal> you used in step 4. If you don’t use the
              same text in the same case, you will get a validity error that
              looks something like this:</para>

              <screen>reference to non-existent ID "ch02_fot" [cvc-id.1]</screen>
            </listitem>
          </orderedlist>
        </sect3>

        <sect3>
          <title>Editing existing entries</title>

          <para>To search for index entries using XXE:</para>

          <orderedlist>
            <listitem>
              <para>Open the <filename>book.xml</filename> file.</para>
            </listitem>

            <listitem>
              <para>With the cursor at the top of the document, hit ESC-G to
              open the Find Element pop up.</para>
            </listitem>

            <listitem>
              <para>In the “Element” field, type in
              <literal>indexterm</literal>. If you want to find a particular
              term, type it in the “Containing Text” field.</para>
            </listitem>

            <listitem>
              <para>Hit Enter to jump to the first instance in the book. Hit
              Ctrl-A to jump to the next instance.</para>
            </listitem>

            <listitem>
              <para>Once you find the entry you want, you won’t be able to
              edit it because the data is contained in the chapter file, not
              the <filename>book.xml</filename> file that you’re searching in.
              So hit Ctrl-Shift-E to open the referenced file and jump to the
              entry.</para>
            </listitem>

            <listitem>
              <para>Edit and save.</para>
            </listitem>

            <listitem>
              <para>Go back to <filename>book.xml</filename> to do your next
              search.</para>
            </listitem>
          </orderedlist>
        </sect3>
      </sect2>
    </sect1>
  </chapter>
</book>